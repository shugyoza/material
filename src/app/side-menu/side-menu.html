<cdk-tree #tree [dataSource]="dataSource" [childrenAccessor]="childrenAccessor">

  <!-- This is the tree node template for leaf nodes -->
  <cdk-tree-node
    *cdkTreeNodeDef="let node"
    cdkTreeNodePadding
    [style.display]="shouldRender(node) ? 'flex' : 'none'"
    [isDisabled]="!shouldRender(node)"
    class="side-menu-tree-node">
    <button matButton [routerLink]="node.path">
      <mat-icon iconPositionStart>
        {{ getParentNode(node) ? 'subdirectory_arrow_right' : '' }}
      </mat-icon>
      {{node.name}}
      <mat-icon iconPositionEnd >{{ node.icon }}</mat-icon>
    </button>
  </cdk-tree-node>

  <!-- This is the tree node template for expandable nodes -->
  <cdk-tree-node
    *cdkTreeNodeDef="let node; when: hasChild"
    cdkTreeNodePadding
    cdkTreeNodeToggle
    [cdkTreeNodeTypeaheadLabel]="node.name"
    [style.display]="shouldRender(node) ? 'flex' : 'none'"
    [isDisabled]="!shouldRender(node)"
    [isExpandable]="true"
    class="side-menu-tree-node">
    <button
      matButton
      cdkTreeNodeToggle
      [attr.aria-label]="'Toggle ' + node.name">
      <mat-icon iconPositionStart >
        {{ getParentNode(node) ? 'subdirectory_arrow_right' : node.icon ? node.icon : 'star' }}
      </mat-icon>
        {{node.name}}
      <mat-icon iconPositionEnd class="mat-icon-rtl-mirror">
        {{tree.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
      </mat-icon>

      
    </button>
  </cdk-tree-node>
</cdk-tree>
